{
  "SaveName": "End Round Button",
  "EpochTime": 1745108089,
  "Date": "4/19/2025 8:14:49 PM",
  "VersionNumber": "v13.3",
  "GameMode": "Cards",
  "GameType": "Game",
  "GameComplexity": "Low Complexity",
  "PlayingTime": [
    0,
    0
  ],
  "PlayerCounts": [
    2,
    2
  ],
  "Tags": [
    "Role-playing Games",
    "Strategy Games",
    "Miniature Games",
    "Card Games",
    "Wargames",
    "Cards",
    "Components",
    "Figurines",
    "Rules",
    "Scripting",
    "English"
  ],
  "Gravity": 0.5,
  "PlayArea": 0.5,
  "Table": "Table_Square",
  "Sky": "Sky_Forest",
  "SkyURL": "https://steamusercontent-a.akamaihd.net/ugc/1014943256936089848/FBFD82B237D4301A3C4701A0D50DF6D23D61D2E5/",
  "Note": "----------------   CREW RETRIEVER   --------------\nPASTE the text created by the crew app on the WHITE CARD \"description\" \nconextMenu - > click last text box option\nCTRL+A -> CTRL+V  -> close\nCLICK the button.\n\n------------------  CONDITIONS   -----------------\nCLICK AROUND the health bar\n (mostly invisible when off) \nCLICK and RIGHT CLICK to change Value\nHEALTH / AURA  behave the same\n\n----------------   MOVE MODEL   -----------------\nHOVER model and use 1-9 to start a 1-9Â¨ Move  use '0' for a Limitless Move\nCLICK to set waypoints\nDOUBLE CLICK to confirm\nRIGHT CLICK to remove waypoint or abort\n\n----------------   EXTRA MODELS   ---------------\nIf you need some extra reference card get it from the side boxes grouped by faction\nheavy image download expected",
  "TabStates": {
    "0": {
      "title": "Rules",
      "body": "",
      "color": "Grey",
      "visibleColor": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5
      },
      "id": 0
    },
    "1": {
      "title": "White",
      "body": "",
      "color": "White",
      "visibleColor": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "id": 1
    },
    "2": {
      "title": "Brown",
      "body": "",
      "color": "Brown",
      "visibleColor": {
        "r": 0.443,
        "g": 0.231,
        "b": 0.09
      },
      "id": 2
    },
    "3": {
      "title": "Red",
      "body": "",
      "color": "Red",
      "visibleColor": {
        "r": 0.856,
        "g": 0.1,
        "b": 0.094
      },
      "id": 3
    },
    "4": {
      "title": "Orange",
      "body": "",
      "color": "Orange",
      "visibleColor": {
        "r": 0.956,
        "g": 0.392,
        "b": 0.113
      },
      "id": 4
    },
    "5": {
      "title": "Yellow",
      "body": "",
      "color": "Yellow",
      "visibleColor": {
        "r": 0.905,
        "g": 0.898,
        "b": 0.172
      },
      "id": 5
    },
    "6": {
      "title": "Green",
      "body": "",
      "color": "Green",
      "visibleColor": {
        "r": 0.192,
        "g": 0.701,
        "b": 0.168
      },
      "id": 6
    },
    "7": {
      "title": "Blue",
      "body": "",
      "color": "Blue",
      "visibleColor": {
        "r": 0.118,
        "g": 0.53,
        "b": 1.0
      },
      "id": 7
    },
    "8": {
      "title": "Teal",
      "body": "",
      "color": "Teal",
      "visibleColor": {
        "r": 0.129,
        "g": 0.694,
        "b": 0.607
      },
      "id": 8
    },
    "9": {
      "title": "Purple",
      "body": "",
      "color": "Purple",
      "visibleColor": {
        "r": 0.627,
        "g": 0.125,
        "b": 0.941
      },
      "id": 9
    },
    "10": {
      "title": "Pink",
      "body": "",
      "color": "Pink",
      "visibleColor": {
        "r": 0.96,
        "g": 0.439,
        "b": 0.807
      },
      "id": 10
    },
    "11": {
      "title": "Black",
      "body": "",
      "color": "Black",
      "visibleColor": {
        "r": 0.25,
        "g": 0.25,
        "b": 0.25
      },
      "id": 11
    }
  },
  "MusicPlayer": {
    "RepeatSong": true,
    "PlaylistEntry": 1,
    "CurrentAudioTitle": "Beware the Forest Mushrooms - Yoko Shimomura",
    "CurrentAudioURL": "https://steamusercontent-a.akamaihd.net/ugc/779618751110679052/8BDB62372022408D9E5B5DD5B69E86BB43D46F49/",
    "AudioLibrary": []
  },
  "Grid": {
    "Type": 0,
    "Lines": false,
    "Color": {
      "r": 0.0,
      "g": 0.0,
      "b": 0.0
    },
    "Opacity": 0.75,
    "ThickLines": false,
    "Snapping": false,
    "Offset": false,
    "BothSnapping": false,
    "xSize": 2.0,
    "ySize": 2.0,
    "PosOffset": {
      "x": 0.0,
      "y": 1.0,
      "z": 0.0
    }
  },
  "Lighting": {
    "LightIntensity": 0.54,
    "LightColor": {
      "r": 1.0,
      "g": 0.9804,
      "b": 0.8902
    },
    "AmbientIntensity": 1.3,
    "AmbientType": 0,
    "AmbientSkyColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientEquatorColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientGroundColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "ReflectionIntensity": 1.0,
    "LutIndex": 0,
    "LutContribution": 1.0
  },
  "Hands": {
    "Enable": true,
    "DisableUnused": false,
    "Hiding": 0
  },
  "ComponentTags": {
    "labels": [
      {
        "displayed": "blue_discard",
        "normalized": "blue_discard"
      },
      {
        "displayed": "red_discard",
        "normalized": "red_discard"
      }
    ]
  },
  "Turns": {
    "Enable": false,
    "Type": 0,
    "TurnOrder": [],
    "Reverse": false,
    "SkipEmpty": false,
    "DisableInteractions": false,
    "PassTurns": true
  },
  "DecalPallet": [],
  "LuaScript": "--[[ Lua code. See documentation: https://api.tabletopsimulator.com/ --]]\n\n--[[ The onLoad event is called after the game save finishes loading. --]]\nfunction onLoad()\n    --[[ print('onLoad!') --]]\nend\n\n--[[ The onUpdate event is called once per frame. --]]\nfunction onUpdate()\n    --[[ print('onUpdate loop!') --]]\nend",
  "LuaScriptState": "",
  "XmlUI": "<!-- Xml UI. See documentation: https://api.tabletopsimulator.com/ui/introUI/ -->",
  "ObjectStates": [
    {
      "GUID": "87cb86",
      "Name": "HandTrigger",
      "Transform": {
        "posX": 14.3801212,
        "posY": 2.97108841,
        "posZ": 0.141296387,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 9.39275,
        "scaleY": 6.6338706,
        "scaleZ": 3.52228069
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999978,
        "b": 0.941,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Purple",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "17e4ab",
      "Name": "HandTrigger",
      "Transform": {
        "posX": 0.03270387,
        "posY": 2.97108459,
        "posZ": -14.3704987,
        "rotX": 0.0,
        "rotY": 0.0,
        "rotZ": 0.0,
        "scaleX": 9.392744,
        "scaleY": 6.633872,
        "scaleZ": 3.5222795
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "White",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "24150d",
      "Name": "HandTrigger",
      "Transform": {
        "posX": 0.03270387,
        "posY": 2.97108841,
        "posZ": 14.2773781,
        "rotX": 0.0,
        "rotY": 180.0,
        "rotZ": 0.0,
        "scaleX": 9.392749,
        "scaleY": 6.6338706,
        "scaleZ": 3.52228117
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.191999972,
        "g": 0.701,
        "b": 0.167999953,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Green",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "1eeeb2",
      "Name": "HandTrigger",
      "Transform": {
        "posX": -14.29123,
        "posY": 2.97108841,
        "posZ": -0.05830002,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 9.39275,
        "scaleY": 6.6338706,
        "scaleZ": 3.52228069
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.39199996,
        "b": 0.112999953,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Orange",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "54e536",
      "Name": "Custom_Token",
      "Transform": {
        "posX": -0.408414245,
        "posY": 1.03160858,
        "posZ": 0.148612976,
        "rotX": 1.07585574E-05,
        "rotY": 179.995346,
        "rotZ": -1.0606037E-05,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "End Round",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.454703748,
        "g": 0.438067,
        "b": 0.438067
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "CustomImage": {
        "ImageURL": "https://steamusercontent-a.akamaihd.net/ugc/55835947070619352/6DCE9AE31487CDFE09BFEC3D14E57D0A385645CD/",
        "ImageSecondaryURL": "",
        "ImageScalar": 1.0,
        "WidthScale": 0.0,
        "CustomToken": {
          "Thickness": 0.1,
          "MergeDistancePixels": 15.0,
          "StandUp": false,
          "Stackable": false
        }
      },
      "LuaScript": "f_color = {0,0,0,95}\r\nfunction onLoad(save_state)\r\n    self.createButton({\r\n        label=\"\",\r\n        click_function=\"end_round\",\r\n        tooltip=\"End Round\",\r\n        function_owner=self,\r\n        position={0,0.11,0},\r\n        height=600,\r\n        width=1000,\r\n        alignment = 3,\r\n        scale={x=1.5, y=1.5, z=1.5},\r\n        font_size=300,\r\n        font_color=f_color,\r\n        color={0,0,0,0}\r\n        })\r\nend\r\n\r\nfunction end_round(_obj, _color, alt_click)\r\n    broadcastToAll(\"Applying and Removing end round conditions\")\r\n    --prefrom end round conditions to modles\r\n    for i, object in pairs(getAllObjects()) do\r\n        --log(object)\r\n        if object.getVar(\"TRH_Class\")==\"mini\" then\r\n            log(object.getName())\r\n            log(object.type)\r\n            object.call(\"end_round\")\r\n        end \r\n    end\r\n\r\n    --shuffle decks\r\n    Timer.create({\r\n        identifier = \"ShuffleDecks\"..self.getGUID(),\r\n        function_name = \"shuffleDecks\",\r\n        function_owner = self,\r\n        delay = 1\r\n    })\r\n    --increment round counter\r\n\r\n    Timer.create({\r\n        identifier = \"EndRoundFinal\"..self.getGUID(),\r\n        function_name = \"end_round_final\",\r\n        function_owner = self,\r\n        delay = 2\r\n    })\r\nend\r\n\r\nfunction empty()\r\nend\r\nfunction shuffleDecks()\r\n    broadcastToAll(\"Shuffling Decks\")\r\n    getObjectFromGUID(\"43711c\").call(\"refillDeck\")\r\n    getObjectFromGUID(\"196848\").call(\"refillDeck\")   \r\nend\r\nfunction end_round_final()\r\n    getObjectFromGUID(\"85c4c6\").call(\"add_subtract\",{_obj=_obj,_color=_color,alt_click=1})\r\n    broadcastToAll(\"New Round Start\")\r\nend",
      "LuaScriptState": "",
      "XmlUI": ""
    }
  ]
}